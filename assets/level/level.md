# 关卡配置文件格式说明

本文件用于定义游戏关卡配置，采用JSON格式。通过本配置文件可以定义：
- 马里奥初始位置
- 地形布局
- 敌人分布
- 物品分布

## 文件结构

```json
{
  "mario": {...},
  "terrain": {...},
  "enemies": {...},
  "items": {...}
}
```

### 1. 马里奥配置 (mario)
```json
{
  "startX": 0,  // 初始X坐标（网格单位）
  "startY": 0   // 初始Y坐标（网格单位）
}
```

### 2. 地形配置 (terrain)
```json
{
  "<地形类型>": [
    {"x": 0, "y": 14},
    ...
  ]
}
```
- 键：地形类型字符串（参见下方类型对照表）
- 值：该类型地形的所有位置数组
- 坐标采用网格坐标系，原点在左下角

**地形类型对照表**
| 类型 | 说明         |
|------|--------------|
| "0"  | 硬质砖块     |
| "1"  | 普通砖块     |
| "2"  | 地板砖     |
| "4"  | 可破坏砖块   |

### 3. 敌人配置 (enemies)
```json
{
  "<敌人类型>": [
    {"x": 5, "y": 10},
    ...
  ]
}
```
- 键：敌人类型字符串
- 值：该类型敌人的所有位置数组

**支持的敌人类型**
- `"goomba"`：蘑菇怪
- `"koopa"`：龟壳怪
- `"piranha"`：食人花

### 4. 物品配置 (items)
```json
{
  "<物品类型>": [
    {"x": 3, "y": 10},
    ...
  ]
}
```
- 键：物品类型字符串
- 值：该类型物品的所有位置数组

**支持的物品类型**
- `"coin"`：金币
- `"mushroom"`：成长蘑菇
- `"star"`：无敌星
- `"flower"`：火焰花

## 完整示例
```json
{
  "mario": {
    "startX": 2,
    "startY": 10
  },
  "terrain": {
    "1": [
      {"x": 0, "y": 14},
      {"x": 1, "y": 14}
    ],
    "2": [
      {"x": 5, "y": 12},
      {"x": 6, "y": 12}
    ]
  },
  "enemies": {
    "goomba": [
      {"x": 4, "y": 12},
      {"x": 7, "y": 12}
    ]
  },
  "items": {
    "coin": [
      {"x": 2, "y": 9},
      {"x": 3, "y": 9}
    ]
  }
}
```

## 注意事项
1. **坐标系统**
   - 采用网格坐标系，每个单位对应一个游戏网格
   - 原点(0,0)位于屏幕左下角
   - X轴向右延伸，Y轴向上延伸

2. **类型限制**
   - 所有类型必须使用预定义值
   - 遇到未知类型时会自动忽略并输出警告

3. **文件规范**
   - 使用UTF-8编码
   - 建议使用2空格缩进
   - 文件扩展名建议使用`.level.json`

4. **特殊规则**
   - 相同坐标的多个元素按加载顺序叠加
   - 地形元素的渲染顺序按Y坐标从高到低


> 最后更新：2024-1-23


